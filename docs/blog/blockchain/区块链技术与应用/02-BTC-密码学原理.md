# 02-BTC-密码学原理

分为哈希和签名

## 哈希

- cryptographic hash function (密码学中的哈希函数)
  - collision resistance (没有高效的方法人为制造哈希碰撞)(防止篡改)
  - hiding (哈希函数的计算过程是单向的)
  - puzzle friendly (事先给定一个哈希串，让你解谜题找到输入是什么。 由于 SHA256 没有直接办法或通过找到一定规律来猜出输入是什么，只能通过暴力遍历输入空间的方式来找到答案)

> - 挖矿：不停地试各种随机数，通过 `nonce` 加上 区块的其他信息，通过传入 hash 函数，得出一个小于等于某个指定的目标阈值。
> - 工作量证明(proof of work): 挖到矿，找到符合要求的 `nonce`，一定是因为做了大量的工作。因为没有别的捷径。
> - difficult to solve, but easy to verify (挖矿很难，验证很容易)。

通过 `collision resistance` 和 `hiding` 两个性质结合，可以形成 `digital commitment`

比特币中的哈希函数：`SHA-256` (SHA: Secure Hash Algorithm)

## 签名

开户：在本地创建 公钥(public key) 和 私钥(private key) 对

> - 公私钥这个概念来源于：非对称加密体系 (asymmetric encryption algorithm)
> - 对称加密：一方把信息通过密钥加密后，传给另一方，另一方通过这个密钥解密，用于有某种安全的渠道把这个密钥分发给通讯的双方
> - 非对称加密：一方用另一方的公钥加密信息， 另一方收到后用他的私钥解密信息。加密用的公钥，解密用的私钥，都是接收方的公钥和私钥，同时都不需要对方的私钥。解决了对称加密，密钥分发不方便的问题。

比特币交易：假如我转10个比特币给别人，发布交易时候，我用自己的私钥对交易进行签名，其他人收到这个交易后，用我的公钥去验证这个签名的正确性。

**签名用的是私钥，验证签名用的是公钥，都是同一个人的。**
